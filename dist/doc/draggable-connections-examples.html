<h3>Draggable Connections Examples</h3>

<p>This is a list of examples of how to use jsPlumb to create Connections using drag and drop.  The basic procedure is:</p>

<ol>
<li>Create Endpoints and register them on elements in your UI, or create a source Endpoint and then make some element a drop target</li>
<li>Drag and Drop<br></li>
</ol>

<p>There are plenty of options you can set when doing this...it will be easier to show you some examples:          </p>

<ul>
<li><p>Define an Endpoint with default appearance, that is both a source and target of new Connections:
<pre>
  var endpointOptions = { isSource:true, isTarget:true }; 
</pre></p></li>
<li><p>Register that Endpoint on window3, specifying that it should be located in the top center of the element:
<pre>
var window3Endpoint = jsPlumb.addEndpoint(&#39;window3&#39;, { anchor:&quot;TopCenter&quot; }, endpointOptions );<br>
</pre>
Notice here the usage of the three-argument addEndpoint  - we can reuse <code>endpointOptions</code> with a different Anchor for another element.  This is a useful practice to get into.</p></li>
<li><p>Register that Endpoint on window4, specifying that it should be located in the bottom center of the element:
<pre>
var window4Endpoint = jsPlumb.addEndpoint(&#39;window4&#39;, {
anchor:&quot;BottomCenter&quot; }, endpointOptions );<br>
</pre>
Now we have two Endpoints, both of which support drag and drop of new Connections.  We can use these to make a programmatic Connection, too, though:</p></li>
<li><p>Connect window3 to window4 with a 25px wide yellow Bezier that has a &#39;curviness&#39; of 175:
<pre>
jsPlumb.connect({ 
  source:window3Endpoint,
  target:window4Endpoint,
  connector: [ &quot;Bezier&quot;, { curviness:175 } ],
  paintStyle:{ lineWidth:25, strokeStyle:&#39;yellow&#39; }
});<br>
</pre>  </p></li>
<li><p>Define an Endpoint that creates Connections that are 20px wide straight lines, that is both a source and target of new Connections, and that has a <code>scope</code> of <code>blueline</code>. Also, this Endpoint mandates that once it is full, Connections can no longer be dragged from it (even if <code>reattach</code> is specified on a Connection):
<pre>
var endpointOptions = { 
  isSource:true, 
  isTarget:true,
  connector : &quot;Straight&quot;,
  connectorStyle: { lineWidth:20, strokeStyle:&#39;blue&#39; },
  scope:&quot;blueline&quot;,
  dragAllowedWhenFull:false<br>
}; 
</pre>  </p></li>
<li><p>Define an Endpoint that will be anchored to <code>TopCenter</code>.  It creates Connections that are 20px wide straight lines, that are both a source and target of new Connections, and that have a <code>scope</code> of <code>blueline</code>. Also, this Endpoint mandates that once it is full, Connections can no longer be dragged from it (even if <code>reattach</code> is specified on a Connection):
<pre>
var endpointOptions = {
  anchor:&quot;Top&quot;, 
  isSource:true, 
  isTarget:true,
  connector : &quot;Straight&quot;,
  connectorStyle: { lineWidth:20, strokeStyle:&#39;blue&#39; },
  scope:&quot;blueline&quot;,
  dragAllowedWhenFull:false<br>
}; 
</pre></p></li>
<li><p>Define an Endpoint that will create a dynamic anchor which can be positioned at <code>TopCenter</code> or <code>BottomCenter</code>.  It creates Connections that are 20px wide straight lines, it is both a source and target of new Connections, and it has a &#39;scope&#39; of &#39;blueline&#39;. Also, this Endpoint mandates that once it is full, Connections can no longer be dragged from it (even if <code>reattach</code> is specified on a Connection):
<pre>
var endpointOptions = {
anchor:[ &quot;TopCenter&quot;, &quot;BottomCenter&quot; ], 
  isSource:true, 
  isTarget:true,
  connector : &quot;Straight&quot;,
  connectorStyle: { lineWidth:20, strokeStyle:&#39;blue&#39; },
  scope:&quot;blueline&quot;,
  dragAllowedWhenFull:false<br>
}; 
</pre>  </p></li>
<li><p>Exactly the same as before, but shows how you can use <code>anchors</code> instead of <code>anchor</code>, if that makes you feel happier:
<pre>
var endpointOptions = {
anchors:[ &quot;TopCenter&quot;, &quot;BottomCenter&quot; ], 
isSource:true, 
  isTarget:true,
  connector : &quot;Straight&quot;,
  connectorStyle: { lineWidth:20, strokeStyle:&#39;blue&#39; },
  scope:&quot;blueline&quot;,
  dragAllowedWhenFull:false<br>
}; 
</pre>  </p></li>
<li><p>Define an Endpoint that is a 30px blue dot, creates Connections that are 20px wide straight lines, is both a source and target of new Connections, has a <code>scope</code> of <code>blueline</code>, and has an event handler that pops up an alert on drop (note: the event handler name means this example is jQuery - MooTools and YUI3 use different event handler names):
<pre>
var endpointOptions = { 
isSource:true, 
isTarget:true,
  endpoint: [ &quot;Dot&quot;, { radius:30 } ],
  style:{fillStyle:&#39;blue&#39;},
  connector : &quot;Straight&quot;,
  connectorStyle: { lineWidth:20, strokeStyle:&#39;blue&#39; },
  scope:&quot;blueline&quot;,
  dropOptions:{ 
    drop:function(e, ui) { 
      alert(&#39;drop!&#39;); 
    } 
  }<br>
}; 
</pre></p></li>
<li><p>Same example as before, but this is for MooTools, and the Endpoint can support up to 5 connections (the default is 1):
<pre>
var endpointOptions = { 
isSource:true, 
  isTarget:true,
  endpoint: [ &quot;Dot&quot;, { radius:30 } ],
  style:{ fillStyle:&#39;blue&#39; },
  maxConnections:5,
  connector : &quot;Straight&quot;,
  connectorStyle: { lineWidth:20, strokeStyle:&#39;blue&#39; },
  scope:&quot;blueline&quot;,
  dropOptions:{ 
  onDrop:function(e, ui) { 
      alert(&#39;drop!&#39;); 
    } 
  }<br>
}; 
</pre></p></li>
<li><p>Same example again, but <code>maxConnections</code> being set to -1 means that the Endpoint has no maximum limit of Connections:
<pre>
var endpointOptions = { 
isSource:true, 
isTarget:true,
endpoint: [ &quot;Dot&quot;, {radius:30} ],
style:{ fillStyle:&#39;blue&#39; },
maxConnections:-1,
connector : &quot;Straight&quot;,
connectorStyle: { lineWidth:20, strokeStyle:&#39;blue&#39; },
scope:&quot;blueline&quot;,
dropOptions:{ 
  onDrop:function(e, ui) { 
      alert(&#39;drop!&#39;); 
    } 
  }<br>
}; 
</pre></p></li>
<li><p>Same example again, but for YUI3.  Note the drop callback is &quot;drop:hit&quot;:
<pre>
var endpointOptions = { 
isSource:true, 
isTarget:true,
endpoint: [ &quot;Dot&quot;, { radius:30 } ],
  style:{fillStyle:&#39;blue&#39;},
  maxConnections:-1,
  connector : &quot;Straight&quot;,
  connectorStyle: { lineWidth:20, strokeStyle:&#39;blue&#39; },
  scope:&quot;blueline&quot;,
  dropOptions:{ 
    &quot;drop:hit&quot;:function(e, ui) { 
         alert(&#39;drop!&#39;); 
      } 
  }<br>
}; 
</pre>          </p></li>
<li><p>Assign a UUID to the Endpoint options created above, and add as Endpoints to &quot;window1&quot; and &quot;window2&quot;:
<pre>
jsPlumb.addEndpoint(&quot;window1&quot;, { uuid:&quot;abcdefg&quot; }, endpointOptions );
jsPlumb.addEndpoint(&quot;window2&quot;, { uuid:&quot;hijklmn&quot; }, endpointOptions );
</pre></p></li>
<li><p>Connect the two Endpoints we just registered on &quot;window1&quot; and &quot;window2&quot;:
<pre>
jsPlumb.connect({uuids:[&quot;abcdefg&quot;, &quot;hijklmn&quot;]});
</pre></p></li>
<li><p>Create a source Endpoint, register it on some element, then make some other element a Connection target:
<pre>
var sourceEndpoint = { isSource:true, endpoint:[ &quot;Dot&quot;, { radius:50 } ] };
var targetEndpoint = { endpoint:[ &quot;Rectangle&quot;, { width:10, height:10 } ] };
jsPlumb.addEndpoint( &quot;window1&quot;, sourceEndpoint );
jsPlumb.makeTarget( &quot;window2&quot;, targetEndpoint );
</pre>
Notice that the endpoint definition we use on the target window does not include the <code>isTarget:true</code> directive.  jsPlumb ignores that flag when creating a Connection using an element as the target; but if you then tried to drag another connection to the Endpoint that was created, you would not be able to.  To permit that, you would set <code>isTarget:true</code> on the targetEndpoint options defined above.</p></li>
</ul>
