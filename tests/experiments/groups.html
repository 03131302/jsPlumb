<!doctype html>
<html>

<body>

<style>

    .w {
        position:absolute;width:50px;height:50px;border:1px solid black;
        font-size:12px;
        border-radius:5px;
        text-align:center;
        background-color:WhiteSmoke;
        opacity:0.7;
    }

    .container {
        position:absolute;
        width:350px;height:350px;border:2px solid gray;background-color:lightgoldenrodyellow;
    }

    .title {
        background-color:skyblue;
    }

    #container1 { left:0;top:0; }
    #container2 { left:400px;top:0; }
    #container3 { left:20px;top:450px; }
    #container4 { left:400px;top:450px; }

</style>

<div id="holder">
    <div class="container" id="container1">
        <div class="title">container 1 (my elements are constrained to the group)</div>
        <!--div class="jtk-group-content"-->
            <div id="c1_1" class="w" style="left:30px;top:30px">1</div>
            <div id="c1_2" class="w" style="left:230px;top:230px">2</div>
        <!--</div>-->
    </div>

    <div class="container" id="container2">
        <div class="title">container 2 (my elements are reverted on drop outside)</div>
        <div id="c2_1" class="w" style="left:30px;top:30px">1</div>
        <div id="c2_2" class="w" style="left:230px;top:230px">2</div>
    </div>

    <div class="container" id="container3">
        <div class="title">container 3 (my elements are ignored on drop outside)</div>
        <div id="c3_1" class="w" style="left:30px;top:30px">1</div>
        <div id="c3_2" class="w" style="left:230px;top:230px">2</div>
    </div>

    <div class="container" id="container4">
        <div class="title">container 4 (my elements are removed on drop outside)</div>
        <div id="c4_1" class="w" style="left:30px;top:30px">1</div>
        <div id="c4_2" class="w" style="left:230px;top:230px">2</div>
    </div>

    <hr/>
    <p>
        This is a test page for the groups functionality in jsPlumb. Here we have two groups
    </p>
</div>


<!-- JS -->
<!-- support lib for bezier stuff -->
<script src="../../lib/jsBezier-0.7.js"></script>
<!-- event adapter -->
<script src="../../lib/mottle-0.7.1.js"></script>
<!-- geometry functions -->
<script src="../../lib/biltong-0.2.js"></script>
<!-- drag -->
<script src="../../lib/katavorio-0.15.0.js"></script>
<!-- jsplumb util -->
<script src="../../src/util.js"></script>
<script src="../../src/browser-util.js"></script>
<!-- main jsplumb engine -->
<script src="../../src/jsPlumb.js"></script>
<!-- base DOM adapter -->
<script src="../../src/dom-adapter.js"></script>
<script src="../../src/overlay-component.js"></script>
<!-- endpoint -->
<script src="../../src/endpoint.js"></script>
<!-- connection -->
<script src="../../src/connection.js"></script>
<!-- anchors -->
<script src="../../src/anchors.js"></script>
<!-- connectors, endpoint and overlays  -->
<script src="../../src/defaults.js"></script>
<!-- bezier connectors -->
<script src="../../src/connectors-bezier.js"></script>
<!-- state machine connectors -->
<script src="../../src/connectors-statemachine.js"></script>
<!-- flowchart connectors -->
<script src="../../src/connectors-flowchart.js"></script>
<!-- SVG renderer -->
<script src="../../src/renderers-svg.js"></script>

<!-- common adapter -->
<script src="../../src/base-library-adapter.js"></script>
<!-- no library jsPlumb adapter -->
<script src="../../src/dom.jsPlumb.js"></script>

<script src="../../src/group.js"></script>
<script>
    jsPlumb.ready(function() {
        var j = jsPlumb.getInstance({Container:holder});


        // NOTE ordering here. we make one draggable before adding it to the group, and we add the other to the group
        //before making it draggable. they should both be constrained to the group extents.
        j.draggable(c1_1);
        j.addGroup({ el:container1, id:"one", constrain:true });
        j.addToGroup("one", c1_1);
        j.addToGroup("one", c1_2);
        j.draggable(c1_2);

        j.draggable(c2_1);
        j.addGroup({ el:container2, id:"two"/*, revert:true */});  //(the default is to revert)
        j.addToGroup("two", c2_1);
        j.addToGroup("two", c2_2);
        j.draggable(c2_2);

        j.draggable(c3_1);
        j.addGroup({ el:container3, id:"three", revert:false });
        j.addToGroup("three", c3_1);
        j.addToGroup("three", c3_2);
        j.draggable(c3_2);

        j.draggable(c4_1);
        j.addGroup({ el:container4, id:"four", orphan:true});
        j.addToGroup("four", c4_1);
        j.addToGroup("four", c4_2);
        j.draggable(c4_2);

        j.connect({source:c1_1, target:c2_1});
        j.connect({source:c2_1, target:c3_1});
        j.connect({source:c3_1, target:c4_1});
    });
</script>

</body>

</html>